#### 1. Decision

Черновик: репозиторий описывает базу знаний и процесс ingest, но структура и правила оформлены частично и не обеспечивают масштабирование.

#### 2. Ключевые проблемы

1. README объясняет структуру, но не даёт чётких сценариев использования и правил качества контента.
2. В репозитории одновременно живут промпты, шаблоны, контент и метаданные без явной архитектуры слоёв.
3. Индекс (`kb/ru/INDEX.md`) и тема/статьи не формализованы едиными обязательными блоками.
4. Нет явных правил именования файлов/папок и статусов (кроме текста в промпте).
5. Нет политики архивирования и удаления черновиков/дублей.
6. Нет плана масштабирования на 100+ тем и 1000+ статей (навигация, поиск, таксономия).
7. Темы в `kb/ru/` смешивают «обзор» и предметные данные (нет деления на типы знаний).
8. Нет единого файла правил/стандартов для авторов, кроме промпта агента.

#### 3. Предлагаемая структура

```text
/knowledge-base
  /kb
    /ru
      /concepts
      /standards
      /playbooks
      /datasets
      /reference
      /archive
      INDEX.md
  /inbox
  /prompts
  /_templates
  /_meta
  README.md
```

**Логика папок:**

- `kb/ru/concepts` — концепции и объяснения (что это и зачем).
- `kb/ru/standards` — стандарты, политики, регламенты.
- `kb/ru/playbooks` — пошаговые инструкции и процедуры.
- `kb/ru/datasets` — справочные данные и прайсы.
- `kb/ru/reference` — словари, глоссарии, определения.
- `kb/ru/archive` — устаревшие материалы.
- `INDEX.md` — единый вход: темы, типы, быстрые ссылки.
- `inbox/` — неизменный вход для сырья.
- `_templates/` — шаблоны статей.
- `_meta/` — технические метаданные (темы, дедуп, аудит).
- `prompts/` — промпты агента (операционные).

#### 4. Улучшенный README (черновик)

# Knowledge Base

Централизованная база знаний с контролируемым циклом: загрузка → классификация → публикация → индекс → архив.

## Назначение

- Хранить проверенные статьи как source of truth.
- Изолировать сырьё (`inbox/`) от каноничного контента (`kb/ru/`).
- Обеспечить навигацию и масштабирование через индексы.

## Как пользоваться

1. Положите файлы в `inbox/` без ручной сортировки.
2. Агент обработает материалы и создаст/обновит статьи в `kb/ru/`.
3. Проверьте `kb/ru/INDEX.md` и тематические листы.

## Структура

- `kb/ru/` — каноничная база знаний (готовые статьи).
- `kb/ru/INDEX.md` — основной индекс.
- `_templates/` — шаблоны статей.
- `prompts/` — промпты агента.
- `_meta/` — метаданные (темы, дедуп, аудит).

## Правила

- Одна статья = одна папка = один `README.md`.
- Имена папок — ASCII kebab-case.
- Каждая статья содержит front-matter и стандартные блоки.

## Проверки

- Проверка ссылок: `python tests/check_kb_links.py`.

#### 5. Правила базы знаний

1. Названия папок и файлов — ASCII kebab-case, без пробелов и кириллицы.
2. Одна статья = одна папка = `README.md`.
3. Каждый `README.md` статьи обязан содержать front-matter (id/title/topic/tags/status/source/created/updated).
4. Обязательные блоки статьи: Purpose, Use, Scope, Notes (или русские аналоги с одинаковым смыслом).
5. Статус `draft` по умолчанию, `verified` — только без `[[TBD]]` и с источниками.
6. Дубли не публикуются: только обновление существующей статьи и фиксация в дедуп-логе.
7. Архивирование — только в `kb/ru/archive/` с пометкой статуса `archived`.

#### 6. Roadmap

| Шаг | Что сделать | Эффект | Приоритет |
| --- | --- | --- | --- |
| 1 | Зафиксировать правила и шаблон статьи | Единый стандарт качества | Высокий |
| 2 | Перестроить `kb/ru/` по типам знаний | Масштабируемость и навигация | Высокий |
| 3 | Обновить `kb/ru/INDEX.md` под новую структуру | Быстрый вход и поиск | Высокий |
| 4 | Ввести архив и политику устаревания | Снижение шума | Средний |
| 5 | Добавить требования к источникам | Повышение доверия | Средний |
| 6 | Регламентировать процесс добавления новых тем | Контроль роста | Средний |
