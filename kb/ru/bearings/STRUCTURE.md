# База знаний по подшипникам — Руководство по структуре

Этот документ описывает организацию и принципы работы с базой знаний по подшипникам в репозитории knowledge-base.

## Обзор структуры

База знаний организована по принципу **1 статья = 1 папка = 1 README.md** с метаданными в YAML front-matter.

### Основные разделы

```
kb/ru/bearings/
├── INDEX.md                    # Главный индекс раздела
├── overview/                   # Обзор базы знаний
├── types/                      # Типы и классификация
├── designation/                # Правила маркировки
├── dimensions/                 # Размеры и серии
├── standards/                  # ISO/ГОСТ стандарты
├── manufacturers/              # Производители и их особенности
├── selection/                  # Алгоритмы выбора
├── maintenance/                # Эксплуатация и обслуживание
├── failure-analysis/           # Анализ отказов
├── datasets/                   # Описание структурированных данных
├── sources/                    # Оригинальные источники
└── cards/                      # Карточки конкретных подшипников
    ├── 62xx/                   # Серия 62xx (шариковые радиальные, лёгкая)
    │   ├── 6200-2rs/
    │   ├── 6201-2rs/
    │   ├── ...
    │   └── 6210-2rs/          # 11 карточек
    ├── 63xx/                   # Серия 63xx (шариковые радиальные, средняя)
    │   ├── 6300-2rs/
    │   ├── 6301-2rs/
    │   ├── ...
    │   └── 6310-2rs/          # 11 карточек
    ├── 7xxx/                   # Серия 7xxx (радиально-упорные шариковые)
    │   ├── 7200-b/
    │   ├── 7201-b/
    │   ├── ...
    │   └── 7210-b/            # 11 карточек
    ├── NUxx/                   # Серия NU (роликовые цилиндрические)
    │   ├── nu202/
    │   ├── nu203/
    │   ├── ...
    │   └── nu210/             # 9 карточек
    ├── NJxx/                   # Серия NJ (роликовые цилиндрические с бортом)
    │   ├── nj202/
    │   ├── nj203/
    │   ├── ...
    │   └── nj210/             # 9 карточек
    └── 30xxx/                  # Серия 302xx (роликовые конические)
        ├── 30202/
        ├── 30203/
        ├── ...
        └── 30210/             # 9 карточек
```

### Связанные разделы

- `kb/ru/bearings-knowledge-base/` — процессы автоматизации и генерации
- `kb/ru/bearings-price-list/` — прайс-листы и ценовая информация

## Структура метаданных

### Общая структура для всех статей

```yaml
---
id: KB-RU-000XXX              # Уникальный идентификатор
title: "Название статьи"      # Человекочитаемое название
topic: "bearings-overview"    # Тема (kebab-case, без слешей)
tags: ["тег1", "тег2"]        # Теги для поиска
status: draft                 # draft | verified | deprecated
source: "источник"            # Откуда взяты данные
created: 2026-02-05           # Дата создания
updated: 2026-02-05           # Дата обновления
---
```

### Дополнительные поля для карточек подшипников

```yaml
---
# ... стандартные поля ...
topic: bearings-card
aliases: ["альтернативные обозначения"]
designation:
  base: "6305"
  suffixes: ["2RS", "C3"]
dims: {d: 25, D: 62, B: 17, unit: "mm"}
standards: ["ISO 15", "ISO 281"]
equivalents:
  - {manufacturer: "SKF", code: "6305-2RSH/C3"}
  - {manufacturer: "FAG", code: "6305.2RSR.C3"}
load_capacity:
  dynamic_C_kN: 22.5
  static_C0_kN: 11.2
  rpm_limit: 10000
---
```

## Шаблоны статей

### Общий шаблон статьи

Расположение: `_templates/article.md`

Используется для создания обзорных статей, руководств, справочников.

### Шаблон карточки подшипника

Расположение: `_templates/bearing-card.md`

Специализированный шаблон для карточек конкретных подшипников. Включает разделы:
- Назначение и применение
- Расшифровка обозначения
- Габариты и совместимость
- Грузоподъёмность и ресурс
- Эквиваленты и аналоги
- Риски замены
- Эксплуатация и обслуживание
- Примеры применения

## Правила именования

### Папки

- ASCII kebab-case (только строчные буквы, цифры, дефисы)
- Без пробелов, подчёркиваний, кириллицы
- Примеры: `types`, `failure-analysis`, `6305-2rs-c3`

### ID статей

- Формат: `KB-RU-NNNNNN` (6 цифр)
- Уникальность в пределах всей базы знаний
- Последовательная нумерация (текущий максимум: KB-RU-000026)

### Топики (topics)

- kebab-case без слешей
- Примеры: `bearings-overview`, `bearings-selection`, `bearings-card`

## Валидация

### Автоматические проверки

1. **kb_quality_gate.py** — основная валидация:
   - Проверка YAML front-matter
   - Уникальность ID
   - Формат topic (kebab-case)
   - Валидные значения status
   - Структура папок

2. **validate_bearing_cards.py** — валидация карточек подшипников:
   - Наличие полей designation, dims, load_capacity
   - Корректность структуры эквивалентов
   - Полнота метаданных

### Запуск валидации

```bash
# Локально
python scripts/kb_quality_gate.py
python scripts/validate_bearing_cards.py

# В CI (автоматически при PR)
# См. .github/workflows/kb-quality.yml
```

## Процесс добавления контента

### Добавление новой статьи

1. Создайте папку в соответствующем разделе
2. Скопируйте шаблон `_templates/article.md`
3. Заполните метаданные (назначьте новый ID)
4. Напишите содержание согласно шаблону
5. Добавьте ссылку в соответствующий INDEX.md
6. Запустите валидацию
7. Создайте PR

### Добавление карточки подшипника

1. Создайте папку в `kb/ru/bearings/cards/[обозначение-подшипника]/`
2. Скопируйте шаблон `_templates/bearing-card.md`
3. Заполните все обязательные поля метаданных
4. Добавьте технические данные из каталога производителя
5. Укажите эквиваленты для основных производителей
6. Опишите типовые применения и риски
7. Добавьте ссылку в `kb/ru/bearings/INDEX.md`
8. Запустите валидацию
9. Создайте PR

### Обновление прайс-листов

1. Поместите оригинал в `kb/ru/bearings/sources/price-lists/YYYY/поставщик/`
2. Создайте README-паспорт прайс-листа в `kb/ru/bearings-price-list/`
3. Опишите структуру колонок, правила нормализации, актуальность
4. Обновите общий индекс

## Опорные стандарты

База знаний опирается на следующие стандарты:

- **ISO 15:2017** — габаритные размеры радиальных подшипников
- **ISO 281:2007** — расчёт динамической грузоподъёмности и ресурса
- **ISO 492:2014** — допуски и классы точности
- **ISO 5753-1:2009** — внутренние зазоры
- **ГОСТ 520-2011** — общие технические условия (российский стандарт)

## Источники данных

### Каталоги производителей

- SKF General Catalogue
- FAG Super Precision Bearings
- NTN Ball & Roller Bearings
- NSK Rolling Bearings
- Timken Bearing Catalog

### Структурированные данные

Описание структурированных данных см. в `kb/ru/bearings/datasets/README.md`

Оригинальные файлы хранятся в `kb/ru/bearings/sources/`

## Навигация и поиск

### Основные точки входа

1. **kb/ru/INDEX.md** — главный индекс всей базы знаний
2. **kb/ru/bearings/INDEX.md** — индекс раздела подшипников
3. **kb/ru/bearings/overview/README.md** — обзор и руководство пользователя

### Поиск по тегам

Используйте теги в метаданных для группировки статей:
- `["подшипники", "выбор"]` — статьи о выборе
- `["bearing", "ball", "sealed"]` — уплотнённые шариковые подшипники
- `["ISO", "стандарты"]` — нормативные документы

### Кросс-ссылки

Все статьи содержат раздел "См. также" с ссылками на связанные материалы.

## Поддержка и развитие

### Текущий статус

- **Создано**: 2026-02-05
- **Обновлено**: 2026-02-06
- **Статей**: 25 (13 в разделе bearings, 121 карточек, 2 ISO-справочника, 4 в других разделах)
- **Статус**: в разработке (draft)

### Выполненные задачи

1. ✅ Наполнение карточками популярных подшипников (серии 62xx, 63xx, 7xxx)
2. ✅ Расширение каталога карточек (все типоразмеры серий 62xx, 63xx, 7xxx)
3. ✅ Добавление карточек роликовых подшипников (серии NU, NJ, конические)
4. ✅ Добавление детальных справочников по стандартам (ISO 15, ISO 281)
5. ✅ Интеграция структурированных данных из каталогов (CSV)
6. ✅ Автоматизация генерации карточек из CSV (`scripts/generate_bearing_cards.py`)
7. ✅ Визуальные диаграммы в разделе failure-analysis (Mermaid)

### Планы развития

1. Интеграция прайс-листов в автоматическую генерацию
2. Верификация данных для перевода из draft в verified
3. Добавление дополнительных серий подшипников (64xx, 68xx, игольчатые)

### Контакты

- Репозиторий: https://github.com/ArtemFilin1990/knowledge-base
- Issues: для вопросов и предложений

---

**Версия документа**: 1.0  
**Дата**: 2026-02-05  
**Автор**: Система автоматической генерации базы знаний
