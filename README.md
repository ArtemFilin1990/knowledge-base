# Knowledge Base

Централизованная база знаний с контролируемым циклом: загрузка → классификация → публикация → индекс.

## Назначение

- Хранить проверенные статьи как source of truth.
- Изолировать сырьё (`inbox/`) от каноничного контента (`kb/ru/`).
- Обеспечить навигацию и масштабирование через индексы.

## Как пользоваться

1. Положите файлы в `inbox/` без ручной сортировки.
2. Запустите автоматический обработчик: `python scripts/process_inbox.py`
   - Или дождитесь автоматической обработки через GitHub Actions при push в `main`
3. Обработчик создаст/обновит статьи в `kb/ru/` и переместит файлы в `inbox/processed/`
4. Проверьте `kb/ru/INDEX.md` и тематические листы.

См. подробную документацию: `docs/inbox-processor.md`

## Где что находится

- `inbox/` — единственная точка входа для новых материалов пользователя. Сюда загружаются файлы, которые позже обрабатываются агентом.
- `kb/ru/` — каноничная база знаний на русском языке. Содержит только готовые статьи.
- `kb/ru/INDEX.md` — центральный индекс всех статей.
- `_templates/` — шаблоны оформления статей.
- `prompts/` — рабочие промпты для агента.
- `_meta/` — метаданные (темы, дедуп, аудит).

## Правила добавления контента

1. Одна статья = одна папка = один файл `README.md`.
2. Имена папок — ASCII kebab-case, без пробелов и кириллицы.
3. Каждая статья содержит front-matter и стандартные блоки.
4. Готовый контент публикуется только в `kb/ru/`.
5. Индексы обновляются автоматически.

См. шаблон статьи: `_templates/article.md`.
См. аудит и рекомендации: `_meta/repository-audit.md`.

## Скрипты и автоматизация

- **Обработка inbox**: `python scripts/process_inbox.py` - автоматически обрабатывает файлы из inbox
- **Генерация карточек подшипников**: `python scripts/generate_bearing_cards.py`
- **Проверка качества**: `python scripts/kb_quality_gate.py`
- **Валидация карточек**: `python scripts/validate_bearing_cards.py`
- **Проверка ссылок**: `python tests/check_kb_links.py`

## Проверки

- Проверка ссылок в базе знаний: `python tests/check_kb_links.py`.
- Валидация метаданных: `python scripts/kb_quality_gate.py`.
